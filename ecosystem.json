{
  "apps": [{
    // Application #1
    "name": "worker",
    "script": "server/worker.js",
    "merge_logs": true,
    "watch": ["node_modules/edsx-mail/*.js", "server/routes.js", "config/*.js", "server/edison_components/*", "server/models/*", "server/app.js", "server/worker.js", "server/core/*", "invoice-ninja/*/*.js"],
    "env": {
      "PLATFORM": "DIGITAL_OCEAN",
      "APP_ENV": "PRODUCTION",
      "CLUSTER_PROCESS_NBR": 2,
      "POSTMARK_API_KEY": "b2c424bc-af2b-4175-b76f-c863bb3915c3",
      "POSTMARK_API_TOKEN": "b2c424bc-af2b-4175-b76f-c863bb3915c3",
      "POSTMARK_INBOUND_ADDRESS": "c5021a62758dc77ac5cdccfa3df754c3@inbound.postmarkapp.com",
      "POSTMARK_SMTP_SERVER": "smtp.postmarkapp.com",
      "MONGOLAB_URI": "mongodb://heroku_app33756489:hrkm1jfvok3i2hsopg9t99jvvd@ds041981-a0.mongolab.com:41981/heroku_app33756489"
    },
  }, {
    // Application #2
    "name": "web",
    "env": {
      "CLUSTER_PROCESS_NBR": 2,
      "APP_ENV": "PRODUCTION",
      "PLATFORM": "DIGITAL_OCEAN",
      "MONGOLAB_URI": "mongodb://heroku_app33756489:hrkm1jfvok3i2hsopg9t99jvvd@ds041981-a0.mongolab.com:41981/heroku_app33756489"
    },
    "watch": ["server", "config"],
    //  "exec_mode" : "cluster_mode",
    // "instances" : 5,
    "merge_logs": true,
    "script": "server/app.js",
    "error_file": "/var/log/pm2/child-err.log",
    "out_file": "/var/log/pm2/child-out.log",
    "pid_file": "/var/log/pm2/child.pid"
  }, {
    "name": "socket-bridge",
    "script": "server/socket-bridge.js"
  }]
}
