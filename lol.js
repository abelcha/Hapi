global.requireLocal = function(pth) {
	return require(process.cwd() + '/' + pth)
}

var request = require('request');
process.env.MONGOLAB_URI = "mongodb://heroku_app33756489:hrkm1jfvok3i2hsopg9t99jvvd@ds041981-a0.mongolab.com:41981/heroku_app33756489"

var db = require(process.cwd() + '/server/edison_components/db.js')()
var v1 = require(process.cwd() + '/server/edison_components/V1.js')
var _ = require('lodash');
var moment = require('moment')
var async = require('async')

var ids = [4217, 17410, 17371, 13124, 11730, 33278, 33251, 33237, 33076, 32980, 32390, 32258, 31797, 30940, 30546, 30343, 29841, 29809, 29514, 28719, 28458, 28341, 28081, 27564, 27444, 27062, 26143, 25101, 21576, 19028, 33848, 33845, 33671, 33558, 33489, 33486, 33439, 19067, 18172, 17799, 17704, 16941, 16923, 16779, 16085, 15845, 15228, 14163, 13733, 13635, 12808, 12011, 11774, 8830, 8168, 8007, 7345, 4085, 31455, 29893, 29004, 30851, 22749, 33844, 27724, 25696, 33754, 33650, 33620, 33552, 33550, 33538, 33522, 33479, 33476, 33429, 33414, 33412, 33351, 33154, 33005, 32937, 32783, 32775, 32674, 32652, 32553, 32470, 32284, 32119, 32028, 32012, 31969, 31906, 31755, 31749, 31648, 31640, 31638, 31632, 31631, 31444, 31389, 31229, 31213, 31094, 31009, 30930, 30841, 30797, 30356, 30352, 30315, 30295, 30187, 30003, 29886, 29530, 29466, 29074, 28963, 28800, 28716, 28551, 28310, 28185, 27999, 27820, 27500, 27461, 27335, 26790, 26248, 26082, 25891, 25113, 25105, 25098, 25096, 24834, 24806, 24796, 24415, 24283, 24236, 24002, 23978, 23813, 23555, 23536, 23479, 23405, 23318, 23270, 23269, 23242, 23201, 23128, 22856, 21977, 21775, 21513, 21352, 21186, 21185, 21017, 20969, 20968, 20938, 20603, 20518, 20462, 20402, 20014, 19399, 19256];
db.model('intervention').find({
	id: {
		$in: ids
	}
}).select('facture').limit(10).then(function(resp) {
	console.log(resp)
	process.exit()
})
