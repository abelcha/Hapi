{"version":3,"sources":["../node_modules/browserify/node_modules/browser-pack/_prelude.js","../config/FiltersFactory.js","../config/angularExport.js","../config/contextMenuData.js","../config/dataList.js","../config/textTemplate.js","../node_modules/milliseconds/milliseconds.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var ms = require('milliseconds');\n\nFiltersFactory = function(inter) {\n    if (!(this instanceof FiltersFactory)) {\n        return new FiltersFactory(inter);\n    }\n    if (inter && typeof inter === 'object') {\n        this.inter = inter;\n        this.fltr = {};\n        this.dateInter = (new Date(inter.date.intervention)).getTime();\n    }\n\n}\n\nvar today = function() {\n    return new Date((new Date()).setHours(0));\n}\n\n\nFiltersFactory.prototype.get = function(fltr) {\n    var _this = this;\n    for (var i = 0; i < _this.data.length; ++i) {\n        if (_this.data[i][Object.keys(fltr)] === fltr[Object.keys(fltr)])\n            return _this.data[i];\n    }\n    return null;\n}\n\nFiltersFactory.prototype.create = function() {\n    var _this = this;\n    for (var i = 0; i < _this.data.length; ++i) {\n        if (_this.data[i].cache === true && _this.data[i].fn.bind(_this)() === true) {\n            _this.fltr[_this.data[i].short_name] = 1;\n        }\n    }\n    return _this.fltr;\n}\n\nFiltersFactory.prototype.list = function() {\n    return this.data;\n}\n\nFiltersFactory.prototype.data = [{\n    short_name: '',\n    long_name: 'Toutes les Inters',\n    url: '',\n    cache: false,\n    match: {},\n    fn: function() {\n        return true;\n    }\n}, {\n    short_name: 'tall',\n    long_name: \"uAjourd'hui\",\n    url: 'ajd',\n    match: function() {\n        return {\n            'date.ajout': {\n                $gt: today()\n            }\n        }\n    },\n    cache: true,\n    fn: function() {\n        return this.inter.date.ajout > today();\n    }\n}, {\n    short_name: 'tenv',\n    long_name: 'Envoyé',\n    url: 'envoyeAjd',\n    match: function() {\n        return {\n            'status': 'ENV',\n            'date.ajout': {\n                $gt: today()\n            }\n        }\n    },\n    cache: true,\n    fn: function() {\n        return (this.inter.status === \"ENV\" || this.inter.status === \"AVR\") && this.inter.date.ajout > today();\n    }\n}, {\n    short_name: 'avr',\n    long_name: 'A Vérifier',\n    url: 'aVerifier',\n    match: function() {\n        return {\n            status: 'ENV',\n            'date.intervention': {\n                $lt: new Date(Date.now() + ms.hours(1))\n            }\n        }\n    },\n    cache: true,\n    fn: function() {\n        return this.inter.status === \"AVR\" ||\n            (this.inter.status === \"ENV\" && Date.now() > this.dateInter);\n    }\n}, {\n    short_name: 'apr',\n    long_name: 'A Programmer',\n    url: 'aProgrammer',\n    match: {\n        'status': 'APR',\n    },\n    cache: true,\n    fn: function() {\n        return this.inter.status === \"APR\";\n    }\n}, {\n    short_name: 'att',\n    long_name: 'Paiement en attente',\n    url: 'paiementEnAttente',\n    match: {},\n    stats: false,\n    cache: true,\n    fn: function() {\n        return this.inter.status === \"ATT\";\n\n    }\n}, {\n    short_name: 'atts',\n    long_name: 'Paiement SST en attente',\n    url: 'paiementArtisanEnAttente',\n    match: {},\n    stats: false,\n    cache: true,\n    fn: function() {\n        return this.fltr.att &&\n            this.inter.reglementSurPlace === true;\n\n    }\n}, {\n    short_name: 'sarl',\n    long_name: 'SST à Relancer',\n    url: 'relanceArtisan',\n    match: {\n        status: 'ATT',\n        reglementSurPlace: true,\n        'date.intervention': {\n            $lt: new Date(Date.now() - ms.weeks(2)),\n        }\n    },\n    stats: true,\n    cache: true,\n    fn: function() {\n        return this.fltr.atts &&\n            Date.now() > this.dateInter + ms.weeks(2);\n    }\n}, {\n    short_name: 'attc',\n    long_name: 'Paiement Client en attente',\n    url: 'paiementClientEnAttente',\n    match: {},\n    stats: false,\n    cache: true,\n    fn: function() {\n        return this.fltr.att &&\n            this.inter.reglementSurPlace === false;\n\n    }\n}, {\n    short_name: 'carl',\n    long_name: 'Client à Relancer',\n    url: 'relanceClient',\n    match: {\n        status: 'ATT',\n        reglementSurPlace: false,\n        'date.intervention': {\n            $lt: new Date(Date.now() - ms.weeks(2)),\n        }\n    },\n    cache: true,\n    fn: function() {\n        return this.fltr.attc &&\n            Date.now() > this.dateInter + ms.weeks(3);\n    }\n}, {\n    short_name: 'fact',\n    long_name: 'Facture à envoyer',\n    url: 'factureaEnvoyer',\n    match: {\n        'date.intervention': {\n            $lt: new Date(Date.now() + ms.hours(1))\n        },\n        status: 'ENV',\n        reglementSurPlace: false\n    },\n    cache: true,\n    fn: function() {\n        return this.fltr.avr &&\n            this.inter.reglementSurPlace === false;\n        !this.inter.date.envoiFacture;\n    }\n}, {\n    short_name: 'sav',\n    long_name: 'Tous les S.A.V',\n    url: 'serviceApresVente',\n    match: {\n        sav: {\n            $gt: {\n                $size: 0\n            }\n        }\n    },\n    cache: true,\n    fn: function() {\n        return this.inter.sav && this.inter.sav.length > 0;\n    }\n}, {\n    short_name: 'savEnc',\n    long_name: 'S.A.V En Cours',\n    url: 'serviceApresVenteEnCours',\n    match: {\n        sav: {\n            $elemMatch:  {\n                status: 'ENV'\n            }\n        }\n    },\n    cache: true,\n    fn: function() {\n        return this.inter.sav && this.inter.sav.length > 0 &&\n            this.inter.sav[this.inter.sav.length - 1].status === \"ENV\"\n    }\n}, {\n    short_name: 'lit',\n    long_name: 'Tous les Litige',\n    url: 'litiges',\n    match: {\n        litiges: {\n            $elemMatch:  {\n                regle: false\n            }\n        }\n    },\n    cache: true,\n    fn: function() {\n        return this.inter.sav && this.inter.sav.length > 0;\n    }\n}, {\n    short_name: 'litEnc',\n    long_name: 'Litiges non résolus',\n    url: 'litigesEnCours',\n    match: {\n        litiges: {\n            $gt: {\n                $size: 0\n            }\n        }\n    },\n    cache: true,\n    fn: function() {\n        return this.inter.litiges && this.inter.litiges.length > 0 &&\n            this.inter.litiges[this.inter.litiges.length - 1].regle === false\n    }\n}]\n\nmodule.exports = FiltersFactory;\n","angular.module('browserify', [])\n    .factory('config', [function() {\n        \"use strict\";\n        var config = require(\"./dataList.js\")\n        config.filters = require('./FiltersFactory');\n        return config;\n    }])\n    .factory('contextMenuData', [function() {\n    \treturn require('./contextMenuData.js')\n    }])\n    .factory('textTemplate', [function() {\n        return require('./textTemplate.js')\n    }])\n","module.exports = {\n    intervention: [{\n        hidden: false,\n        title: 'Ouvrir Fiche',\n        action: function(inter) {\n            $location.url('/intervention/' + inter.id)\n        }\n    }, {\n        hidden: false,\n        title: \"Appeler l'artisan\",\n        action: 'callArtisan',\n        hide: function(inter) {\n            return !inter.ai\n        }\n    }, {\n        hidden: false,\n        title: \"SMS artisan\",\n        action: 'smsArtisan',\n        hide: function(inter) {\n            return !inter.ai\n        }\n    }, {\n        hidden: false,\n        title: \"Envoyer\",\n        action: 'envoi',\n        hide: function(inter) {\n            return inter.s !== \"APR\" && inter.s !== 'ANN'\n        }\n    }, {\n        hidden: false,\n        title: \"Vérifier\",\n        action: 'verification',\n        hide: function(inter) {\n            return inter.s !== \"AVR\" && inter.s !== 'ENV'\n        }\n    }, {\n        hidden: false,\n        title: \"Annuler\",\n        action: 'annulation'\n\n    }]\n}\n","module.exports = {\n    categories: {\n        PL: {\n            suffix:'de',\n            short_name: 'PL',\n            long_name: 'Plomberie',\n            order: 0,\n            color: 'blue white-text'\n        },\n        CH: {\n            suffix:'de',\n            short_name: 'CH',\n            long_name: 'Chauffage',\n            order: 1,\n            color: 'red white-text'\n        },\n        EL: {\n            suffix:\"d'\",\n            short_name: 'EL',\n            long_name: 'Électricité',\n            order: 2,\n            color: 'yellow  accent-4 black-text'\n        },\n        SR: {\n            suffix:'de',\n            short_name: 'SR',\n            long_name: 'Serrurerie',\n            order: 3,\n            color: 'brown white-text'\n        },\n        VT: {\n            suffix:'de',\n            short_name: 'VT',\n            long_name: 'Vitrerie',\n            order: 4,\n            color: 'green white-text'\n        },\n        AS: {\n            suffix:'de',\n            short_name: 'AS',\n            long_name: 'Assainissement',\n            order: 5,\n            color: 'orange white-text'\n        },\n        CL: {\n            suffix:'de',\n            short_name: 'CL',\n            long_name: 'Climatisation',\n            order: 6,\n            color: 'teal white-text'\n        },\n        PT: {\n            suffix:'de',\n            short_name: 'PT',\n            long_name: 'Peinture',\n            order: 7,\n            color: 'deep-orange white-text'\n        }\n    },\n    categoriesArray: function() {\n        var x = [];\n        for (var i in this.categories)\n            x.push(this.categories[i]);\n        return x;\n    },\n    etats: {\n        ENV: {\n            short_name: 'ENV',\n            long_name: 'Envoyé',\n            color: 'orange'\n        },\n        RGL: {\n            short_name: 'RGL',\n            long_name: 'Reglé',\n            color: 'green'\n        },\n        PAY: {\n            short_name: 'PAY',\n            long_name: 'Payé',\n            color: 'green accent-4'\n        },\n        ATT: {\n            short_name: 'ATT',\n            long_name: 'En Attente',\n            color: 'purple'\n        },\n        ATTC: {\n            short_name: 'ATTC',\n            long_name: 'RC En Attente',\n            color: 'purple'\n        },\n        ATTS: {\n            short_name: 'ATTS',\n            long_name: 'RS En Attente',\n            color: 'pink darken-4'\n        },\n        APR: {\n            short_name: 'APR',\n            long_name: 'A Progr.',\n            color: 'blue'\n        },\n        AVR: {\n            short_name: 'AVR',\n            long_name: 'A Vérifier',\n            color: 'brown darken-3'\n        },\n        ANN: {\n            short_name: 'ANN',\n            long_name: 'Annuler',\n            color: 'red'\n        },\n        DEV: {\n            short_name: 'DEV',\n            long_name: 'Devis',\n            color: 'light-blue'\n        },\n    },\n    fournisseur: [{\n        short_name: 'ARTISAN',\n        type: 'Fourniture Artisan'\n    }, {\n        short_name: 'CEDEO',\n        type: 'Fourniture Edison'\n    }, {\n        short_name: 'BROSSETTE',\n        type: 'Fourniture Edison'\n    }, {\n        short_name: 'REXEL',\n        type: 'Fourniture Edison'\n    }, {\n        short_name: 'COAXEL',\n        type: 'Fourniture Edison'\n    }, {\n        short_name: 'YESSS ELECTRIQUE',\n        type: 'Fourniture Edison'\n    }, {\n        short_name: 'CGED',\n        type: 'Fourniture Edison'\n    }, {\n        short_name: 'COSTA',\n        type: 'Fourniture Edison'\n    }, {\n        short_name: 'FORUM DU BATIMENT',\n        type: 'Fourniture Edison'\n    }],\n    modeDeReglements: [{\n        short_name: 'CB',\n        long_name: 'Carte Bancaire'\n    }, {\n        short_name: 'CH',\n        long_name: 'Chèque'\n    }, {\n        short_name: 'CA',\n        long_name: 'Espèces'\n    }],\n    tva: [{\n        short_name: 10,\n        long_name: \"TVA: 10%\"\n    }, {\n        short_name: 20,\n        long_name: \"TVA: 20%\"\n    }],\n    typePayeur: [{\n        short_name: 'SOC',\n        long_name: 'Société'\n    }, {\n        short_name: 'PRO',\n        long_name: 'Propriétaire'\n    }, {\n        short_name: 'LOC',\n        long_name: 'Locataire'\n    }, {\n        short_name: 'IMO',\n        long_name: 'Agence Immobilière'\n    }, {\n        short_name: 'CUR',\n        long_name: 'Curatelle'\n    }, {\n        short_name: 'AUT',\n        long_name: 'Autre'\n    }],\n    civilites: [{\n        short_name: 'M.',\n        long_name: 'Monsieur'\n    }, {\n        short_name: 'Mme.',\n        long_name: 'Madame'\n    }, {\n        short_name: 'Soc.',\n        long_name: 'Société'\n    }],\n    causeAnnulation: [{\n        type: \"client\",\n        short_name: \"PB_RES\",\n        long_name: \"Le problème est résolu\"\n    }, {\n        type: \"client\",\n        short_name: \"PX_TP_CHR\",\n        long_name: \"Le prix est trop cher\"\n    }, {\n        type: \"client\",\n        short_name: \"CLI_REP_P\",\n        long_name: \"Le client ne répond pas\"\n    }, {\n        type: \"sous-traitant\",\n        short_name: \"SST_P_DSP\",\n        long_name: \"Le sous-traitant n'est pas disponible\"\n    }, {\n        type: \"sous-traitant\",\n        short_name: \"SST_REP_PS\",\n        long_name: \"Le sous-traitant ne répond pas\"\n    }, {\n        type: \"sous-traitant\",\n        short_name: \"SST_SHT_PS\",\n        long_name: \"Le ne souhaite pas faire l'intervention\"\n    }, {\n        type: \"sous-traitant\",\n        short_name: \"SST_PS_APL\",\n        long_name: \"Le sous-traitant n'a jamais appelé le client\"\n    }, {\n        type: \"partenariat\",\n        short_name: \"PS_SST\",\n        long_name: \"Il n'y a pas de sst dans la zone\"\n    }, {\n        type: \"partenariat\",\n        short_name: \"PS_SST\",\n        long_name: \"Il n'y a pas de sst dans la zone\"\n    }]\n}\n","module.exports = {\n    mail: {\n        devis: {\n            envoi: function(user) {\n                var config = require('./dataList.js')\n                var categorieClean = config.categories[this.categorie].suffix + \" \" + config.categories[this.categorie].long_name.toLowerCase()\n                var pseudo = _.startCase(user.pseudo)\n                var intro;\n                if (this.client.civilite === \"Soc.\") {\n                    intro = _.template(\"À l'intention du responsable de la société {{_.startCase(client.nom.toLowerCase())}},\\n\\n\")(this);\n                } else {\n                    intro = _.template(\"{{client.civilite}} {{client.nom}},\\n\\n\")(this);\n                }\n                var start = intro + \"Suite à notre conversation téléphonique de tout à l'heure, \";\n                var end = \"Avez-vous reçu le devis ?\\n\" +\n                    \"Je n'ai pas eu de retour de votre part, devons nous planifier une intervention ?\\n\\n\" +\n                    \"Merci de revenir vers moi pour me tenir au courant de la suite que vous donnerez à ce devis.\\n\\n\" +\n                    \"Je reste à votre disposition pour toutes les demandes de renseignement\\n\\n\" +\n                    \"Cordialement, \\n\\n\" +\n                    pseudo +\n                    \"\\n<strong>Ligne direct : 09.72.42.30.00</strong>\\n\";\n\n                if (this.historique && this.historique.length === 1) {\n                    var cont;\n                    if (this.categorie == 'VT')\n                        cont = \"je vous ai envoyé le devis que vous m'avez demandé pour le remplacement de votre vitrage, vous deviez le transmettre directement à votre compagnie d'assurance.\\n\\n\";\n                    else if (this.categorie == 'AS')\n                        cont = \"je vous ai transmis comme convenue le devis de remplacement de votre ballon d'eau chaude sanitaire.\\n\\n\";\n                    else\n                        cont = \"je vous ai transmis comme convenue le devis \" + categorieClean + \" que vous avez souhaité.\\n\\n\";\n                    var text = start + cont + end;\n\n                } else if (this.historique && this.historique.length > 1) {\n                    var text = intro + \"je vous ai transmis un devis \" + categorieClean + \" en date du \" + moment(this.historique[0].date).format('L') + \".\\n\\n\" + end;\n                } else if (this.categorie == 'VT') {\n                    var text = intro +\n                        \"Suite à notre échange téléphonique concernant le remplacement de votre vitrage.\\n\\n\" +\n                        \"Veuillez trouver ci-joint la pièce commerciale Devis n°\" + this.id + \".\\n\\n\" +\n                        \"Merci de bien vouloir transmettre ce devis de remplacement de vitrage directement à votre compagnie d’assurance, afin d'obtenir leurs accords (si nécessaire).\\n\" +\n                        \"Merci de nous renvoyer le devis signé accompagné de la mention « BON POUR ACCORD » par mail.\\n\\n\" +\n                        \"Nous interviendrons dans les plus brefs délais.\\n\\n\" +\n                        \"Je reste à votre entière disposition pour toutes les demandes de renseignement et les remarques que vous pourriez avoir.\\n\\n\" +\n                        \"Cordialement, \\n\\n\" +\n                        pseudo +\n                        \"\\n<strong>Ligne direct : 09.72.42.30.00</strong>\\n\"\n                } else if (_.find(this.produits, function(e) {\n                        return _.startsWith(e.ref, \"BAL\");\n                    })) {\n                    var text = intro +\n                        \"Suite à notre échange téléphonique concernant le remplacement de votre ballon d'eau chaude sanitaire.\\n\\n\" +\n                        \"Veuillez trouver ci-joint la pièce commerciale Devis n°\" + this.id + \".\\n\\n\" +\n                        \"Je reste à votre entière disposition pour tous renseignements complémentaires ou remarques que vous pourriez avoir (technique/prix).\\n\\n\" +\n                        \"Sachez par ailleurs, que votre installation sera éligible aux règles de notre assurance RC PRO et notre assurance décennale.\\n\" +\n                        \"Dès votre accord, nous interviendrons rapidement.\\n\\n\" +\n                        \"Meilleures salutations,\\n\\n\" +\n                        pseudo +\n                        \"\\n<strong>Ligne direct : 09.72.42.30.00</strong>\\n\\n\";\n                } else {\n                    var text = intro +\n                        \"Suite à notre dernier échange concernant la réalisation d'un devis \" + categorieClean + \", \\n\" +\n                        \"vous trouverez ci-joint le devis n°\" + this.id + \" correspondant à ce que nous avons vu ensemble. \\n\\n\" +\n                        \"Je reste à votre entière disposition pour tous renseignements complémentaires ou remarques que vous pourriez avoir (technique/prix). \\n\\n\" +\n                        \"Merci de me tenir au courant de la suite que vous donnerez à ce devis. \\n\\n\" +\n                        \"Cordialement, \\n\\n\" +\n                        pseudo + \"\\n<strong>Ligne direct : 09.72.42.30.00</strong>\\n\\n\";\n                }\n                return text;\n            }\n        }\n    }\n\n};\n","function calc(m) {\n    return function(n) { return Math.round(n * m); };\n};\nmodule.exports = {\n    seconds: calc(1e3),\n    minutes: calc(6e4),\n    hours: calc(36e5),\n    days: calc(864e5),\n    weeks: calc(6048e5),\n    months: calc(26298e5),\n    years: calc(315576e5)\n};\n"]}