<div class="row card" style="overflow: scroll;" style="min-height:599px">
  <table class="table">
    <tbody>
      <tr>
        <td ng-repeat="g in  vm.data" ng-if="g.length">
          <table class="table table-bordered" style="width: 49px;">
            <tr>
              <td colspan="3">
                <input ng-model="vm.query[g[0].date]" type="text" placeholder="Rechercher..." class="form-control">
              </td>
              <td colspan="3">
                <strong text-xxl><center>{{g[0].date|date:"MMMM yyyy"}}</center></strong>
              </td>
            </tr>
            <tr>
              <td bold>Ajouté par</td>
              <td bold>Nom Societe</td>
              <td bold>Nbr</td>
              <td bold>Retenu</td>
              <td bold>Com.</td>
              <td bold>Interventions</td>
            </tr>
            <tr ng-repeat="x in g|filter:vm.query[g[0].date]">
              <td>{{x.login}}</td>
              <td style="width:0px">
                <a href="/artisan/{{x.sst}}/recap">{{x.nomSociete.slice(0, 15)}}</a>
              </td>
              <td>
                {{x.nbr}}
              </td>
              <td>
                {{x.retainer}}
              </td>
              <td class="green-text">
                <span ng-if="x.com"> +</span> {{x.com}}
              </td>
              <td>
                <button class="btn btn-default btn-xs" ng-click="vm.selectedID = !vm.selectedID ? (x.date + x.sst) : null"> Détails</button>
                <span ng-if="vm.selectedID === (x.date + x.sst)" ng-repeat="(k,i) in x.ids">
                  <br ng-if="k % 2 === 0"> -
                  <a href="/intervention/{{i}}">{{i}}</a>
                </span>
              </td>
            </tr>

          </table>
        </td>
      </tr>
    </tbody>
  </table>
</div>
